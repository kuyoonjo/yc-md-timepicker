angular.module("yc.md.timepicker",[]).directive("ycMdTimepicker",function(){return{restrict:"E",transclude:!0,require:"ngModel",scope:{ngModel:"=ngModel",ctrl:"=ctrl",showMeridian:"=showMeridian",meridian:"=meridian"},controller:["$scope","$timeout",function(a,b){function c(b){return a.showMeridian?b.hours>=1&&b.hours<=12&&b.minutes>=0&&b.minutes<=59:b.hours>=0&&b.hours<=23&&b.minutes>=0&&b.minutes<=59}if(a.ctrl=this,a.ngModel||(a.ngModel=new Date),console.log(a.ngModel),a.showMeridian){a.meridians=a.meridian||["AM","PM"];var d=a.ngModel.getHours();d>12?(a.ctrl.hours=d-12,a.ctrl.meridian=a.meridians[1]):0==d?(a.ctrl.hours=12,a.ctrl.meridian=a.meridians[0]):(a.ctrl.hours=d,a.ctrl.meridian=a.meridians[0])}else a.ctrl.hours=a.ngModel.getHours();a.ctrl.minutes=a.ngModel.getMinutes(),this.swithMeridian=function(){a.ctrl.meridian==a.meridians[0]?a.ctrl.meridian=a.meridians[1]:a.ctrl.meridian=a.meridians[0]},a.$watch("ctrl",function(d){c(d)&&b(function(){if(a.showMeridian){var b=d.hours;12==b&&(b-=12),d.meridian==a.meridians[1]&&(b+=12),a.ngModel.setHours(b,d.minutes)}else a.ngModel.setHours(d.hours,d.minutes)})},!0)}],template:"<ng-transclude></ng-transclude>"}});