angular.module("yc.md.timepicker",[]).directive("ycMdTimepicker",function(){return{restrict:"E",transclude:!0,require:"ngModel",scope:{ngModel:"=ngModel",ctrl:"=ctrl",showMeridian:"=showMeridian",meridian:"=meridian"},controller:["$scope",function(a){function b(b){return a.showMeridian?b.hours>=1&&b.hours<=12&&b.minutes>=0&&b.minutes<=59:b.hours>=0&&b.hours<=23&&b.minutes>=0&&b.minutes<=59}if(a.ctrl=this,a.ngModel||(a.ngModel=new Date),console.log(a.ngModel),a.showMeridian){a.meridians=a.meridian||["AM","PM"];var c=a.ngModel.getHours();c>12?(a.ctrl.hours=c-12,a.ctrl.meridian=a.meridians[1]):0==c?(a.ctrl.hours=12,a.ctrl.meridian=a.meridians[0]):(a.ctrl.hours=c,a.ctrl.meridian=a.meridians[0])}else a.ctrl.hours=a.ngModel.getHours();a.ctrl.minutes=a.ngModel.getMinutes(),this.swithMeridian=function(){a.ctrl.meridian==a.meridians[0]?a.ctrl.meridian=a.meridians[1]:a.ctrl.meridian=a.meridians[0]},a.$watch("ctrl",function(c){if(b(c))if(a.showMeridian){var d=c.hours;12==d&&(d-=12),c.meridian==a.meridians[1]&&(d+=12),a.ngModel.setHours(d,c.minutes)}else a.ngModel.setHours(c.hours,c.minutes)},!0)}],template:"<ng-transclude></ng-transclude>"}});